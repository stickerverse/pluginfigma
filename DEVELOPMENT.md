# Plugin Development Setup

## Building the Plugin

1. Install dependencies:
```bash
npm install
```

2. Build the plugin:
```bash
npm run build
```

3. Development mode (watch for changes):
```bash
npm run watch
```

## Testing in Figma

1. Open Figma Desktop
2. Go to Plugins > Development > Import plugin from manifest...
3. Select the `manifest.json` file from this repository
4. The plugin should now appear in your plugins list

## Troubleshooting

### Plugin doesn't load
- Make sure `build/` directory contains `main.js` and `ui.js`
- Check that `manifest.json` points to the correct files
- Verify no TypeScript compilation errors with `npm run build`

### UI doesn't appear
- Check browser developer tools for JavaScript errors
- Ensure shared dependencies are available in `build/shared/`

### API features don't work
- Set up Google Cloud Vision API key in the settings tab
- Ensure the local server is running on localhost:3001 (if using API proxy)

## File Structure

- `src/main.ts` - Main plugin code (runs in Figma's plugin sandbox)
- `src/ui.tsx` - UI code (runs in iframe)
- `manifest.json` - Plugin configuration
- `build/` - Compiled output (generated by build process)
- `shared/` - Shared utilities between extension and plugin